<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Compounded Investment Calculator</title>

  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <!-- ✅ Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    #balanceChart {
      max-width: 100%;
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body class="bg-light">
  <div class="container-md my-4 p-3 bg-white rounded shadow-lg">
    <h2 class="mb-4 text-center">Compounded Investment Calculator</h2>
    <div class="card mt-3">

      <div class="card-body">
        <div class="mb-3">
          <label class="form-label">Starting Amount ($):</label>
          <input type="number" id="startAmount" class="form-control" value="28.10" step="0.01">
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Start Date:</label>
            <input type="date" id="startDate" class="form-control">
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">End Date:</label>
            <input type="date" id="endDate" class="form-control" onchange="updateDaysFromEndDate()">
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label">Number of Days:</label>
          <input type="number" id="days" class="form-control" value="30" oninput="updateEndDateFromDays()">
        </div>

        <button class="btn btn-primary w-100 mb-3" onclick="calculateInvestment()">Calculate Final Amount</button>
        <div class="alert alert-info d-none" id="finalResult"></div>

        <hr>

        <div class="mb-3">
          <label class="form-label">Target Amount ($):</label>
          <input type="number" id="targetAmount" class="form-control" value="100" step="0.01">
        </div>
        <button class="btn btn-success w-100 mb-3" onclick="calculateDaysToTarget()">Calculate Days to Reach
          Target</button>
        <div class="alert alert-warning d-none" id="targetResult"></div>
      </div>
    </div>

    <!-- Withdrawal controls -->
    <div class="card mt-3">
      <div class="card-header">Withdrawals</div>
      <div class="card-body">
        <form class="row g-3" onsubmit="event.preventDefault(); addWithdrawal();">
          <div class="col-md-4">
            <label for="withdrawDate" class="form-label">Date</label>
            <input type="date" id="withdrawDate" class="form-control" required />
          </div>
          <div class="col-md-4">
            <label for="withdrawAmount" class="form-label">Amount</label>
            <div class="input-group">
              <span class="input-group-text">$</span>
              <input type="number" id="withdrawAmount" class="form-control" min="1" required />
            </div>
          </div>
          <div class="col-md-4 d-flex align-items-end">
            <button type="submit" id="withdrawBtn" class="btn btn-danger w-100">
              Withdraw
            </button>
          </div>
        </form>
      </div>
    </div>


    <!-- Withdrawal list -->
    <div class="card mt-3">
      <div class="card-header">Withdrawal History</div>
      <div class="card-body">
        <ul id="withdrawalsList" class="list-group mb-3"></ul>
      </div>
    </div>

    <!-- Balance Over Time Chart (hidden by default) -->
    <div id="balanceChartContainer" class="card mt-3 d-none">
      <div class="card-header">Balance Over Time</div>
      <div style="height:300px;">
        <canvas id="balanceChart"></canvas>
      </div>
    </div>

    <hr>

    <!-- ✅ Explanation -->
    <div class="mt-4">
      <h5>How the calculation works:</h5>
      <p class="small text-muted">
        Spreadsheets can quickly become unwieldy when trying to project future balances with multiple deposits,
        withdrawals, and compounding periods.
        This calculator was created to handle complex datasets easily and give clear projections without complicated
        formulas.
      </p>
      <p class="small text-muted">
        When you first sign up, you’ll start with a <strong>free balance of $300</strong>. After <strong>3
          days</strong>, that initial $300 is withdrawn, and your personal compounding begins with a balance of
        approximately <strong>$28.10</strong>.
      </p>
      <p class="small text-muted">
        Your balance grows by <strong>1% per compounding period</strong>, with <strong>3 compounding periods per
          day</strong> occurring at <strong>3:00 PM, 6:00 PM, and 9:00 PM GMT+08</strong>. Each 1% increase is
        <em>rounded to the nearest tenth of a dollar</em> before being added back to the balance.
      </p>
      <p class="small text-muted">
        For example, if your balance is $28.10, a 1% increase is about $0.28, which rounds to $0.30 and is added. The
        next period calculates 1% on the new total.
      </p>
      <p class="small text-muted">
        To allow trading, a <strong>signal code</strong> is generated at each compounding period with a
        <strong>10-minute window</strong> of opportunity to execute trades based on that period.
      </p>
      <p class="small text-muted">
        The calculator uses the <strong>Start Date</strong> and <strong>Number of Days</strong> (or <strong>End
          Date</strong>) to determine the growth period.
        Any <strong>withdrawals</strong> you add are applied on the chosen dates, and the balance continues to grow from
        the reduced amount.
      </p>
    </div>
<div class="mt-4">
  <h5>Important Note:</h5>
  <p class="small text-danger">
    ⚠️ These projections are estimates only. Even a tiny difference of 
    <strong>0.001% in actual trading exchange rates</strong> can cause significant 
    changes in the final outcome.  
    Use this calculator as a guide, not as a guarantee of exact future balances.
  </p>
</div>


  </div>

  <!-- ✅ Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script src="js/compound1.js"></script>
</body>
<footer class="text-center mt-5 py-3 bg-light border-top">
  <img class="" src="favicon.ico" alt="logo">
  <div class="container">
    <p class="mb-0 text-muted">
      &copy; <span id="year"></span> Compounded Investment Calculator — Created by Jayser Pilapil
    </p>
  </div>
</footer>

<script>
  // Auto update year
  document.getElementById('year').textContent = new Date().getFullYear();
</script>

</html>